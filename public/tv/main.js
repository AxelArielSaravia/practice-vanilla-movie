import f from"../general.js";var A=function(u,H,y){var p,T,E,w=h.genres,R=h.index;u.buttonMore?.setAttribute("data-display","0");var B=0,q=!1;if(h.count+H<h.len)B=h.count+H;else B=h.len,q=!0;if(y)for(var z=h.count;z<B;z+=1){var I=u.templateCollection.content.children[0].cloneNode(!0);u.view?.appendChild(I)}var J=u.view.children.length-B,b=h.count;while(b<B)p=w[R].id,T=w[R].name,E=`${T} Tv Series`,f.View.discover(f.API.getDiscover("tv","1",p,void 0,void 0,void 0),E,"tv",p,b,J,u),R+=1,b+=1;if(h.index=R,h.count=b,!q)u.buttonMore?.setAttribute("data-display","1")},h={STEPS:5,len:0,count:3,index:0,genres:null};window.addEventListener("DOMContentLoaded",function(){var u={templateCollection:document.getElementById("template_collection"),templateModal:document.getElementById("template_modal"),headerPNav:document.getElementById("header_p_nav"),headerButtonSearch:document.getElementById("header_button-search"),headerButtonTheme:document.getElementById("header_button-theme"),main:document.getElementById("main"),hero:document.getElementById("hero"),heroTitle:document.getElementById("hero-title"),view:document.getElementById("view"),buttonMore:document.getElementById("button-more"),modal:document.getElementById("modal")};if(u.templateCollection===null)throw Error("DOM.templateCollection is null");if(u.templateModal===null)throw Error("DOM.templateModal is null");if(u.headerPNav===null)throw Error("DOM.headerPNav is null");if(u.headerButtonTheme===null)throw Error("DOM.headerButtonTheme is null");if(u.main===null)throw Error("DOM.main is null");if(u.hero===null)throw Error("DOM.hero is null");if(u.heroTitle===null)throw Error("DOM.heroTitle is null");if(u.view===null)throw Error("DOM.view is null");if(u.buttonMore===null)throw Error("DOM.buttonMore is null");if(u.modal===null)throw Error("DOM.modal is null");f.Theme.init(),f.Route.init(u),window.addEventListener("popstate",function(){f.Route.onpopstate(u)}),u.headerButtonTheme.setAttribute("data-type",f.Theme.current),u.headerButtonTheme.addEventListener("click",f.Theme.onclick),u.headerPNav.firstElementChild.addEventListener("click",f.Nav.buttonNavOnclick),u.headerPNav.lastElementChild.addEventListener("focusout",f.Nav.navOnfocusout),u.view.addEventListener("click",function(T){f.View.onclick(T.target,u,T)}),u.heroTitle.addEventListener("click",function(T){f.Hero.DOMTitleOnclick(T.target,u,T)}),u.modal.addEventListener("click",function(T){f.Modal.onclick(T.target,u)}),u.modal.addEventListener("change",function(T){f.Modal.onchange(T.target,u)}),u.buttonMore.addEventListener("click",function(){A(u,h.STEPS,!0)});var H=f.API.getGenres("tv"),y=f.API.getTrending("tv","1");y.then(function(T){console.info("trending: ",T)});var p=y.then(f.Hero.selectHero);p.then(function(T){console.info("hero: ",T)}),p.then(f.Hero.getHeroLogo).then(function(T){f.Hero.initDOMImgLogo(T,u.hero)}),p.then(function(T){if(T!==void 0)f.Hero.initDOM(T,u.hero)}),y.then(function(T){if(T?.results===void 0||T.results.length===0)throw Error("API.getTrending does not have data");var E=f.Collection.createDOMCollection("Week Trendings",T.results,"tv",f.Collection.TRENDING,void 0,u.templateCollection.content),w=u.view.children[0];w.insertAdjacentElement("beforebegin",E),w.remove()}),f.API.getPopular("tv","1").then(function(T){if(console.info("getPopular tv",T),T?.results===void 0||T.results.length===0)throw Error("API.getDiscover does not have data");var E=f.Collection.createDOMCollection("Popular TV Series",T.results,"tv",f.Collection.POPULAR,void 0,u.templateCollection.content),w=u.view.children[1];w.insertAdjacentElement("beforebegin",E),w.remove()}),f.API.getTopRated("tv","1").then(function(T){if(console.info("getTopRate tv",T),T?.results===void 0||T.results.length===0)throw Error("API.getTopRated does not have data");var E=f.Collection.createDOMCollection("Top Rated Tv Serie",T.results,"tv",f.Collection.TOP_RATED,void 0,u.templateCollection.content),w=u.view.children[2];w.insertAdjacentElement("beforebegin",E),w.remove()}),H.then(function(T){if(T===void 0||T.genres===void 0||T.genres.length===0)throw Error("API.getGenre does not have data");h.genres=T.genres,h.len=T.genres.length,f.Utils.randomPermutation(h.genres),A(u,4,!1)})});
